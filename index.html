<!DOCTYPE html>
<html lang="zh">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content=#58b77a>
  <title>小唐同学的blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <script id="hexo-configurations">
  var CONFIG = {
    root: '/',
    theme: 'lx',
    version: '0.4.3',
    localsearch:{
      "enable": false,
      "trigger": "auto",
      "top_n_per_article": 1,
      "unescape": false,
      "preload": false
      },
    path: 'null'
  };
</script>

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-lx@0.4.3/source/dist/css/main.min.css">
  
  <style type="text/css">
    pre,
    code {
      font-family: 'Fira Code', monospace;
    }
    html {
      font-family: sans-serif;
    }
    body {
      font-family: sans-serif;
    }
    h1, h2, h3, h4, h5, figure {
      font-family: sans-serif;
    }
    .menu-container{
      font-family: sans-serif;
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/theme-lx@0.4.3/source/dist/js/jquery.jside.menu.min.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "",
	     });
	}); 
	</script>
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
<meta name="generator" content="Hexo 5.4.1"></head>
<body>
<div id="page">

<div class="header">
  <div id="lx-aside" style="background-image: url(https://cdn.jsdelivr.net/npm/theme-lx@0.4.3/source/dist/images/cover.min.jpeg)">
    <div class="overlay">
      
      <div class="featured">
        <div class="avatar"><a href="/"><img src="https://raw.githubusercontent.com/huhututuwu/picture/master/avatar.min.jpeg" alt=""></a></div>
        <span></span>
        <h1>小唐同学的blog</h1>
        
        
      </div>
    </div>
  </div>
</div>
<div id="lx-main-content">
  <div class="lx-post">

  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2022/05/02/Ubuntu%E5%BC%95%E5%AF%BC%E4%BF%AE%E5%A4%8D%EF%BC%88%E4%BF%AE%E6%94%B9efi%E5%88%86%E5%8C%BA%E5%B9%B6%E9%87%8D%E5%BB%BA%E5%BC%95%E5%AF%BC%EF%BC%89/">Ubuntu引导修复（修改efi分区并重建引导）</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2022-05-02</span>
      <p><p>我电脑上本地硬盘安装了win11，Ubuntu是安装在移动硬盘里（建议安装在固态移动硬盘，否则系统会间歇性卡顿），但安装Ubuntu时，即使选择了启动分区为移动硬盘的efi分区，安装完成后Ubuntu的引导依旧会建立在笔记本硬盘的efi分区里<!--应该是Ubuntu优化问题-->；此处导致的现象为：不管有没有插移动硬盘，电脑bios中的boot始终存在Ubuntu引导，<del>强迫症表示不能忍</del>。</p>
<p>安装完成后，因为某些不可告人的原因，我重建了win11的引导，导致Ubuntu的引导丢失，<del>移动硬盘变砖</del>，遂通宵上网查找修复Ubuntu引导的方法，然后便有了此文，仅记录修复引导的方法。</p>
<p>1.需要准备一个Ubuntu的live系统，Ubuntu20以上的版本可以烧录镜像到u盘，进入u盘的安装步骤后第一步选择试用，进入试用版Ubuntu。（Ubuntu20以前的版本未试）</p>
<p>2.打开终端，获取root权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure>

<p>3.查看本机硬盘和分区</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure>

<p>4.挂载Ubuntu系统分区</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount Ubuntu系统分区 /mnt</span><br><span class="line">例：mount /dev/sdb2 /mnt</span><br></pre></td></tr></table></figure>

<p>5.挂载Ubuntu所在硬盘的eif分区（看个人喜好，假如喜欢把Ubuntu引导和windows放一起，就挂载window的efi）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount EFI分区 /mnt/boot/efi</span><br><span class="line">例：mount /dev/sdb1 /mnt/boot/efi</span><br></pre></td></tr></table></figure>

<p>6.我也不知道这句啥意思，但是很重要，不需要修改，直接复制执行完事</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in /dev /dev/pts /proc /sys /run; do sudo mount -B $i /mnt$i; done</span><br></pre></td></tr></table></figure>

<p>7.改变根目录为挂载的Ubuntu目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chroot /mnt</span><br></pre></td></tr></table></figure>

<p>8.重建引导到Ubuntu所在盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grub-install Ubuntu所在硬盘</span><br><span class="line">例：grub-install /dev/sdb2</span><br></pre></td></tr></table></figure>

<p>9.更新引导</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-grub</span><br></pre></td></tr></table></figure>

<p>10.重启，此时可以在bios中找到新的Ubuntu引导，选择进入系统</p>
<p>11.到这是不是以为一切都结束了，No，假如，假如，假如，情况和我一样，原efi分区和现在的eif分区不一致。会出现引导成功后无法进入系统的情况。开机提示 you are in emergency mode，然后无法进入图形界面。</p>
<p>解决方案，重新进入Ubuntu试用版系统（第10步重启进Ubuntu不能省），可以直接用图形界面挂载Ubuntu所在分区，打开文件，路径为/var/log/boot.log，找到带有uuid的一行:Starting File System CHeck on /dev/disk/by-uuid/5E69-ER90，然后记住5E69ER90这8个字符（以自己电脑的为准，记住自己的那8个字符）</p>
<p>12.需要准备一个pe盘，假如没有pe盘，windows下安装DiskGenius也可以，打开DiskGenius，找到你重建Ubuntu引导所在的efi分区，右键打开，修改卷序列号，修改为刚刚记住的8个字符，确定。</p>
<p>13.重启，进入Ubuntu</p>
<p>此方案仅适用于Ubuntu21，Ubuntu20理论上可行，再往前的版本不可知。</p>
</p>
      <div class="post-button"><a class="btn" href="/2022/05/02/Ubuntu%E5%BC%95%E5%AF%BC%E4%BF%AE%E5%A4%8D%EF%BC%88%E4%BF%AE%E6%94%B9efi%E5%88%86%E5%8C%BA%E5%B9%B6%E9%87%8D%E5%BB%BA%E5%BC%95%E5%AF%BC%EF%BC%89/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2022/03/30/golang%20for%20leetcode/">golang for leetcode</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2022-03-30</span>
      <p><p>回文数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">func isPalindrome(x int) bool &#123;</span><br><span class="line">	a := x</span><br><span class="line">	var z bool</span><br><span class="line">	var y=0</span><br><span class="line">	var i string =fmt.Sprintf(&quot;%d&quot;, x)</span><br><span class="line">	testarr :=make([]int,len(i)+1,len(i)+1)</span><br><span class="line">	testarr1 :=make([]int,len(i)+1,len(i)+1)</span><br><span class="line">	if x&gt;0&#123;</span><br><span class="line">		for j:=len(i);j&gt;0;j--&#123;</span><br><span class="line">			testarr[j]=x%10</span><br><span class="line">			x=x/10</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;else &#123;</span><br><span class="line">		for j:=len(i);j&gt;0;j--&#123;</span><br><span class="line">			testarr[j-1]=x%10</span><br><span class="line">			x=x/10</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if x&gt;0&#123;</span><br><span class="line">		testarr[0]=1</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		testarr[0]=0</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(testarr)</span><br><span class="line">	for j:=1;j&lt;len(testarr);j++&#123;</span><br><span class="line">		testarr1[j]=testarr[len(testarr)-j]</span><br><span class="line">	&#125;</span><br><span class="line">	testarr1[0]=testarr[0]</span><br><span class="line">	fmt.Println(testarr1)</span><br><span class="line">	for j:=len(testarr1)-1;j&gt;0;j--&#123;</span><br><span class="line">		if j==len(testarr1)-1&#123;</span><br><span class="line">			y=y+testarr1[j]</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			y=y+testarr1[j]*int(math.Pow10(len(testarr1)-j-1))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if x&lt;0&#123;</span><br><span class="line">		y=-y</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(&quot;y=&quot;,y)</span><br><span class="line">	if a == y &amp;&amp; a&gt;0&#123;</span><br><span class="line">		z = true</span><br><span class="line">	&#125;else &#123;</span><br><span class="line">		z = false</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(z)</span><br><span class="line">	return z</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最长公共前缀</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">func longestCommonPrefix(strs []string) string &#123;</span><br><span class="line">	var a=0</span><br><span class="line">	var b=len(strs[0])</span><br><span class="line">	var c=&quot;&quot;</span><br><span class="line">	for i:=0;i&lt;len(strs);i++&#123;</span><br><span class="line">		if len(strs[i])&gt;a&#123;</span><br><span class="line">			a=len(strs[i])</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	for i:=0;i&lt;len(strs);i++&#123;</span><br><span class="line">		if len(strs[i])&lt;b&#123;</span><br><span class="line">			b=len(strs[i])</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	A:</span><br><span class="line">	for i:=0;i&lt;len(strs);i++&#123;</span><br><span class="line">		if strs[i]==&quot;&quot;&#123;</span><br><span class="line">			return &quot;&quot;</span><br><span class="line">			break A</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	arr:=make([]string,b,b)</span><br><span class="line">	for i:=0;i&lt;b;i++&#123;</span><br><span class="line">		arr[i]= string((strs[0])[i])</span><br><span class="line">	&#125;</span><br><span class="line">	B:</span><br><span class="line">	for i:=0;i&lt;b;i++&#123;</span><br><span class="line">		for j:=0;j&lt;len(strs);j++&#123;</span><br><span class="line">			if string((strs[j])[i]) != arr[i]&#123;</span><br><span class="line">				break B</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		c=fmt.Sprintf(&quot;%s%s&quot;,c,arr[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(c)</span><br><span class="line">	return c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>两数之和</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">func twoSum(nums []int, target int) []int &#123;</span><br><span class="line">	var i,j,k=0,0,0</span><br><span class="line">	var testarr = []int&#123;0,0&#125;</span><br><span class="line">TZT:</span><br><span class="line">	for i=0;i&lt;len(nums);i++&#123;</span><br><span class="line">		j= target - nums[i]</span><br><span class="line">		for k=i+1;k&lt;len(nums);k++&#123;</span><br><span class="line">			if nums[k]==j&#123;</span><br><span class="line">				break TZT</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	testarr[0]=i</span><br><span class="line">	testarr[1]=k</span><br><span class="line">	print(testarr)</span><br><span class="line">	return testarr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>罗马数字转整数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">func romanToInt(s string) int &#123;</span><br><span class="line">	arr:=string([]rune(s))</span><br><span class="line">	var result = 0</span><br><span class="line">	fmt.Println(arr)</span><br><span class="line">		if len(s)==0&#123;</span><br><span class="line">			return 0</span><br><span class="line">		&#125;else if len(s)==1&#123;</span><br><span class="line">			switch s &#123;</span><br><span class="line">			case &quot;I&quot;:</span><br><span class="line">				result=1</span><br><span class="line">			case &quot;V&quot;:</span><br><span class="line">				result=5</span><br><span class="line">			case &quot;X&quot;:</span><br><span class="line">				result=10</span><br><span class="line">			case &quot;L&quot;:</span><br><span class="line">				result=50</span><br><span class="line">			case &quot;C&quot;:</span><br><span class="line">				result=100</span><br><span class="line">			case &quot;D&quot;:</span><br><span class="line">				result=500</span><br><span class="line">			case &quot;M&quot;:</span><br><span class="line">				result=1000</span><br><span class="line">			&#125;</span><br><span class="line">			return result</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			var a string</span><br><span class="line">			var b string</span><br><span class="line">			var num1,num2=0,0</span><br><span class="line">			for i:=0;i&lt;len(s);&#123;</span><br><span class="line">				a= string(arr[i])</span><br><span class="line">				if i ==len(s)-1&#123;</span><br><span class="line">					b= &quot;&quot;</span><br><span class="line">				&#125;else &#123;</span><br><span class="line">					b= string(arr[i+1])</span><br><span class="line">				&#125;</span><br><span class="line">				switch a &#123;</span><br><span class="line">				case &quot;I&quot;:</span><br><span class="line">					num1=1</span><br><span class="line">				case &quot;V&quot;:</span><br><span class="line">					num1=5</span><br><span class="line">				case &quot;X&quot;:</span><br><span class="line">					num1=10</span><br><span class="line">				case &quot;L&quot;:</span><br><span class="line">					num1=50</span><br><span class="line">				case &quot;C&quot;:</span><br><span class="line">					num1=100</span><br><span class="line">				case &quot;D&quot;:</span><br><span class="line">					num1=500</span><br><span class="line">				case &quot;M&quot;:</span><br><span class="line">					num1=1000</span><br><span class="line">				&#125;</span><br><span class="line">				switch b &#123;</span><br><span class="line">				case &quot;I&quot;:</span><br><span class="line">					num2=1</span><br><span class="line">				case &quot;V&quot;:</span><br><span class="line">					num2=5</span><br><span class="line">				case &quot;X&quot;:</span><br><span class="line">					num2=10</span><br><span class="line">				case &quot;L&quot;:</span><br><span class="line">					num2=50</span><br><span class="line">				case &quot;C&quot;:</span><br><span class="line">					num2=100</span><br><span class="line">				case &quot;D&quot;:</span><br><span class="line">					num2=500</span><br><span class="line">				case &quot;M&quot;:</span><br><span class="line">					num2=1000</span><br><span class="line">				case &quot;&quot;:</span><br><span class="line">					num2=0</span><br><span class="line">				&#125;</span><br><span class="line">				if num1&lt;num2&#123;</span><br><span class="line">					result=result+num2-num1</span><br><span class="line">					i=i+2</span><br><span class="line">				&#125;else &#123;</span><br><span class="line">					result=result+num1</span><br><span class="line">					i+=1</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>整数反转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">func reverse(x int) int &#123;</span><br><span class="line">	var y=0</span><br><span class="line">	var i string =fmt.Sprintf(&quot;%d&quot;, x)</span><br><span class="line">	testarr :=make([]int,len(i)+1,len(i)+1)</span><br><span class="line">	testarr1 :=make([]int,len(i)+1,len(i)+1)</span><br><span class="line">	if x&gt;0&#123;</span><br><span class="line">		for j:=len(i);j&gt;0;j--&#123;</span><br><span class="line">			testarr[j]=x%10</span><br><span class="line">			x=x/10</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;else &#123;</span><br><span class="line">		for j:=len(i);j&gt;0;j--&#123;</span><br><span class="line">			testarr[j-1]=x%10</span><br><span class="line">			x=x/10</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if x&gt;0&#123;</span><br><span class="line">		testarr[0]=1</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		testarr[0]=0</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(testarr)</span><br><span class="line">	for j:=1;j&lt;len(testarr);j++&#123;</span><br><span class="line">		testarr1[j]=testarr[len(testarr)-j]</span><br><span class="line">	&#125;</span><br><span class="line">	testarr1[0]=testarr[0]</span><br><span class="line">	fmt.Println(testarr1)</span><br><span class="line">	for j:=len(testarr1)-1;j&gt;0;j--&#123;</span><br><span class="line">		if j==len(testarr1)-1&#123;</span><br><span class="line">			y=y+testarr1[j]</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			y=y+testarr1[j]*int(math.Pow10(len(testarr1)-j-1))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if x&lt;0&#123;</span><br><span class="line">		y=-y</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(y)</span><br><span class="line">	fmt.Println(int(math.Pow(2,31)))</span><br><span class="line">	if y&gt;=-int(math.Pow(2,31))&amp;&amp;y&lt;=int(math.Pow(2,31))-1&amp;&amp;x&gt;=-int(math.Pow(2,31))&amp;&amp;x&lt;=int(math.Pow(2,31))-1&#123;</span><br><span class="line">		return y</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return 0</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>合并有序数组，求中位数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">func findMedianSortedArrays(nums1 []int, nums2 []int) float64 &#123;</span><br><span class="line">   testarr :=make([]int,len(nums1)+len(nums2),len(nums1)+len(nums2))</span><br><span class="line">   if len(nums1)==0&#123;</span><br><span class="line">      testarr=nums2</span><br><span class="line">   &#125;else if len(nums2)==0&#123;</span><br><span class="line">      testarr=nums1</span><br><span class="line">   &#125;else &#123;</span><br><span class="line">      for i:=0;i&lt;len(testarr);i++&#123;</span><br><span class="line">         if i&lt;len(nums1)&#123;</span><br><span class="line">            testarr[i]=nums1[i]</span><br><span class="line">         &#125; else &#123;</span><br><span class="line">            testarr[i]=nums2[i-len(nums1)]</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   testarr=quickSort(testarr)</span><br><span class="line">   x:=len(testarr)/2</span><br><span class="line">   if len(testarr)%2==1&#123;</span><br><span class="line">      return float64(testarr[x])</span><br><span class="line">   &#125;else &#123;</span><br><span class="line">      return float64((float64(testarr[x]) + float64(testarr[x-1])) / 2)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">func quickSort(s []int) []int &#123;</span><br><span class="line">   if len(s) &lt; 2 &#123;</span><br><span class="line">      return  s</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   v := s[0]</span><br><span class="line">   var left, right []int</span><br><span class="line">   for _, e := range s[1:] &#123;</span><br><span class="line">      if e &lt;= v &#123;</span><br><span class="line">         left = append(left, e)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">         right = append(right, e)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // 实现了“quickSort(left) + v + quickSort(right)”的操作</span><br><span class="line">   return     append(append(quickSort(left), v), quickSort(right)...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>替换所有的问号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">func modifyString(s string) string &#123;</span><br><span class="line">   arr:=make([]string,len(s),len(s))</span><br><span class="line">   for i:=0;i&lt;len(s);i++&#123;</span><br><span class="line">      arr[i]=string(s[i])</span><br><span class="line">   &#125;</span><br><span class="line">   if len(s)==1&#123;</span><br><span class="line">      if s==&quot;?&quot;&#123;</span><br><span class="line">         return &quot;a&quot;</span><br><span class="line">      &#125;else &#123;</span><br><span class="line">         return s</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;else &#123;</span><br><span class="line">   for i:=0;i&lt;len(arr);i++&#123;</span><br><span class="line">      if i==0 &amp;&amp; arr[i]==&quot;?&quot;&#123;</span><br><span class="line">         if arr[i+1]==&quot;a&quot; &#123;</span><br><span class="line">            arr[i]=&quot;b&quot;</span><br><span class="line">         &#125;else &#123;</span><br><span class="line">            arr[i]= &quot;a&quot;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;else if arr[i]==&quot;?&quot;&amp;&amp;i==len(s)-1&#123;</span><br><span class="line">         if arr[i-1]==&quot;a&quot; &#123;</span><br><span class="line">            arr[i]=&quot;b&quot;</span><br><span class="line">         &#125;else &#123;</span><br><span class="line">            arr[i]=&quot;a&quot;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;else if arr[i]==&quot;?&quot;&amp;&amp;!(i==0)&amp;&amp;!(i==len(s)-1)&#123;</span><br><span class="line">         if arr[i-1]==&quot;a&quot;&#123;</span><br><span class="line">            if arr[i+1]==&quot;b&quot; &#123;</span><br><span class="line">               arr[i]=&quot;c&quot;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">               arr[i]=&quot;b&quot;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;else if arr[i+1]==&quot;a&quot; &#123;</span><br><span class="line">            if arr[i-1]==&quot;b&quot; &#123;</span><br><span class="line">               arr[i]=&quot;c&quot;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">               arr[i]=&quot;b&quot;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;else if !(arr[i+1]==&quot;a&quot;)&amp;&amp;!(arr[i-1]==&quot;a&quot;) &#123;</span><br><span class="line">            arr[i]=&quot;a&quot;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">   a:=&quot;&quot;</span><br><span class="line">   for i:=0;i&lt;len(arr);i++&#123;</span><br><span class="line">      a+=arr[i]</span><br><span class="line">   &#125;</span><br><span class="line">   return a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除有序数组中的重复项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">func removeDuplicates(nums []int) int &#123;</span><br><span class="line">   if len(nums)&gt;1&#123;</span><br><span class="line">   a:=nums[len(nums)-1]</span><br><span class="line">   b:=0</span><br><span class="line">   for i:=1;nums[i] &lt;= a &amp;&amp; i &lt; len(nums) - 1;i++ &#123;</span><br><span class="line">         for j := 1;nums[j] &lt;= a &amp;&amp; j &lt; len(nums) - 1; j++ &#123;</span><br><span class="line">            if nums[j] &lt;= nums[j-1] &#123;</span><br><span class="line">               nums[j] = nums[j] + nums[j+1]</span><br><span class="line">               nums[j+1] = nums[j] - nums[j+1]</span><br><span class="line">               nums[j] = nums[j] - nums[j+1]</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   A:</span><br><span class="line">   for i:=0;i&lt;len(nums);i++&#123;</span><br><span class="line">      if nums[i]==a&#123;</span><br><span class="line">         b = i</span><br><span class="line">         break A</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">      return b+1</span><br><span class="line">   &#125;else &#123;</span><br><span class="line">      return len(nums)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数组元素积的符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">func arraySign(nums []int) int &#123;</span><br><span class="line">   var a = 0</span><br><span class="line">   A:</span><br><span class="line">   for i:=0;i&lt;len(nums);i++&#123;</span><br><span class="line">      if nums[i]==0&#123;</span><br><span class="line">         return 0</span><br><span class="line">         break A</span><br><span class="line">      &#125;else if nums[i]&lt;0&#123;</span><br><span class="line">         a=a+1</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   if a%2==1&#123;</span><br><span class="line">      return -1</span><br><span class="line">   &#125;else &#123;</span><br><span class="line">      return 1</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
      <div class="post-button"><a class="btn" href="/2022/03/30/golang%20for%20leetcode/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2022/03/26/%E6%90%AD%E5%BB%BAv2ray/">搭建v2ray</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2022-03-26</span>
      <p><p>1.准备工作：vps、xshell</p>
<p>2.安装命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(curl -sL https://multi.netlify.app/v2ray.sh) --zh</span><br></pre></td></tr></table></figure>

<p>3.升级命令(保留配置文件更新)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(curl -sL https://multi.netlify.app/v2ray.sh) -k</span><br></pre></td></tr></table></figure>

<p>4.卸载命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(curl -sL https://multi.netlify.app/v2ray.sh) --remove</span><br></pre></td></tr></table></figure>

<p>注：CentOS系统安装curl命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y curl</span><br></pre></td></tr></table></figure>

<p>Debian/Ubuntu系统安装curl命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y curl</span><br></pre></td></tr></table></figure>

<p>5.安装完成后会默认自动配置并提供链接（以Ubuntu为例）</p>
<p><img src="https://raw.githubusercontent.com/huhututuwu/picture/master/image-2022032618234630.png" alt="image-2022032618234630"></p>
<p>6.输入v2ray进入控制台，选择3修改配置</p>
<p><img src="https://raw.githubusercontent.com/huhututuwu/picture/master/image-20220326182558845.png" alt="image-20220326182558845"></p>
<p>7.输入5选择传输协议，输入22，选择vless+tcp</p>
<p><img src="https://raw.githubusercontent.com/huhututuwu/picture/master/image-20220326182918970.png" alt="image-20220326182918970"></p>
<p>8.其余选项可自行配置</p>
<p>9.配置谷歌加速服务</p>
</p>
      <div class="post-button"><a class="btn" href="/2022/03/26/%E6%90%AD%E5%BB%BAv2ray/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>




<footer>
  <div>
  Copyright &copy; 2022.<a href="/">小唐同学的blog</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.js.org" target="_blank">Lx</a><br>
  </div>
</footer>

  </div>
</div>
</div>

<button class="hamburger hamburger--arrow-r" type="button" title="menu">
    <div class="hamburger-box">
      <div class="hamburger-inner"></div>
    </div>
</button>
<div class="menu visibility">
  <div class="menu-head">
    <span class="layer">
      <div class="col">
        <div class="row for-pic">
          <div class="profile-pic">
            <a href="/"><img src="https://raw.githubusercontent.com/huhututuwu/picture/master/avatar.min.jpeg" alt=""/></a>
          </div>
        </div>
        <div class="row for-name">
          <p></p>
          <span class="tagline">欢迎来到小唐同学的blog</span>
        </div>
      </div>
    </span>
  </div>
  <nav class="menu-container">
  <ul class="menu-items">
    <li><a href="/"><i class="fa fa-home fa-fw"></i>首页</a></li>
    <li><a href="/archives/"><i class="fa fa-archive fa-fw"></i>归档</a></li>
    
    
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-link fa-fw"></i>友链</span>
        <ul>
          <li> <a href="https://fucloud.top" target="_blank">吴狗&#39;place</a></li>
        </ul>
    </li>
  </ul>
  </nav>
</div>

<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>
<script src="https://cdn.jsdelivr.net/npm/theme-lx@0.4.3/source/dist/js/jquery.easing.min.js"></script>
<script>
(function () {
	"use strict";
	var goToTop = function() {
		$(".js-gotop").on("click", function(event){
			event.preventDefault();
			$("html, body").animate({
				scrollTop: $("html").offset().top
			}, 500, "easeInOutExpo");
			return false;
		});
		$(window).scroll(function(){
			var $win = $(window);
			if ($win.scrollTop() > 200) {
				$(".js-top").addClass("active");
			} else {
				$(".js-top").removeClass("active");
			}
		});
	};
	$(function(){
		goToTop();
	});
}());
</script>


</body>
</html>
